
% ----------------------------------------------------------------------
%                   LATEX TEMPLATE FOR PhD THESIS
% ----------------------------------------------------------------------

% based on Harish Bhanderi's PhD/MPhil template, then Uni Cambridge
% http://www-h.eng.cam.ac.uk/help/tpl/textprocessing/ThesisStyle/
% corrected and extended in 2007 by Jakob Suckale, then MPI-CBG PhD programme
% and made available through OpenWetWare.org - the free biology wiki


%: Style file for Latex
% Most style definitions are in the external file PhDthesisPSnPDF.
% In this template package, it can be found in ./Latex/Classes/
\documentclass[twoside,11pt]{Latex/Classes/PhDthesisPSnPDF}

\definecolor{darkgray}{rgb}{0.45,0.45,0.45}
\definecolor{lightgray}{gray}{0.8}
\definecolor{ultralightgray}{rgb}{0.95,0.95,0.95}
\definecolor{bluekeywords}{rgb}{0.13,0.13,1}
\definecolor{greencomments}{rgb}{0,0.5,0}
\definecolor{redstrings}{rgb}{0.9,0,0}



%: Macro file for L\begin{flushleft}\end{flushleft}atex
% Macros help you summarise frequently repeated Latex commands.
% Here, they are placed in an external file /Latex/Macros/MacroFile1.tex
% An macro that you may use frequently is the figuremacro (see introduction.tex)
\include{Latex/Macros/MacroFile1}

\usepackage{Latex/StyleFiles/bytefield}
%\usepackage{Latex/StyleFiles/gantt}
\usepackage{Latex/StyleFiles/dpfloat}
\usepackage{pstricks}
\usepackage{pst-node}

\usepackage{tabularx}
\usepackage{graphicx}
\usepackage{epsfig}
\usepackage{boxedminipage}

\usepackage{subfig}
%\usepackage{subfigure}
\usepackage{wrapfig}
\usepackage{placeins}

\usepackage{listings}
%\usepackage{lscape}
\usepackage{pdflscape}
\usepackage{textpos}
\usepackage{rotating}
\usepackage{threeparttable}

% Paquets nececasir per les taules creades amb Gnumeric
\def\inputGnumericTable{}
%\usepackage[latin1]{inputenc}
\usepackage{color}
\usepackage{array}
\usepackage{longtable}
\usepackage{calc}
\usepackage{multirow}
\usepackage{hhline}
\usepackage{ifthen}

%\usepackage[section]{placeins}

\newcommand{\Monitor}{\emph{Monitor} }
\newcommand{\Controlador}{\emph{Controlador} }
\newcommand{\Actuador}{\emph{Actuador} }
\newcommand{\SensorActuador}{\emph{Sensor/Actuador} }
\newcommand{\Sensor}{\emph{Sensor} }
\newcommand{\Supervisor}{\emph{Supervisor} }
\newcommand{\DCSMonitor}{\textbf{DCSMonitor} }
\newcommand{\NECS} {\emph{NECS} }
\newcommand{\DI} {\emph{DI} }
\newcommand{\RTDruid} {\emph{RT-Druid} }
\newcommand{\Python} {\emph{Python} }
\newcommand{\C} {\emph{C} }
\newcommand{\Matlab} {MATLAB\textsuperscript{\textregistered} }
\newcommand{\QTCreator} {\emph{QTCreator} }
\newcommand{\PyQT} {\emph{PyQT4} }
\newcommand{\MplabX} {MPLAB\textsuperscript{\textregistered} X }
\newcommand{\pyuic} {\emph{pyuic4} }
\newcommand{\Ubuntu} {\emph{Ubuntu} }
\newcommand{\LiveCD} {\emph{Live CD} }
\newcommand{\FLEX} {\emph{FLEX} }
\newcommand{\Eclipse} {\emph{Eclipse} }
\newcommand{\PySerial} {\emph{PySerial} }
\newcommand{\Pylupdate} {\emph{Pylupdate4} }
\newcommand{\Qtlinguist} {\emph{QtLingüist} }
\newcommand{\Microchip} {\emph{Microchip} }

\renewcommand\lstlistlistingname{Índex de codis}
%\renewcommand\lstlistoflistings{%
%\begin{alwayssingle}
%\end{alwayssingle}
%}

\newcommand{\bitlabel}[2]{%
	\bitbox[]{#1}{%
		\raisebox{0pt}[4ex][0pt]{%
			\turnbox{45}{\fontsize{7}{7}\selectfont#2}%
			}%
	}%
}

\newcommand{\colorbitbox}[3]{%
	\rlap{\bitbox{#2}{\color{#1}\rule{\width}{\height}}}%
	\bitbox{#2}{#3}}
	

\lstloadlanguages{bash, Python, [ANSI]C, XML}

\lstnewenvironment{code_bash}[2]{
    \renewcommand\lstlistingname{\textbf{Codi Bash}}
    \lstset{caption={#1}, 
    label={#2},
    %title={\colorbox{black!20}{\parbox{\dimexpr\linewidth-6pt\relax}{\centering \lstlistingname~\thelstlisting:\ \texttt{\detokenize{#1}}}}},
    title={\colorbox{black!10}{\parbox{\dimexpr\linewidth-6pt\relax}{\centering \lstlistingname~\thelstlisting:\ \texttt{#1}}}},
    language=bash, 
    basicstyle=\ttfamily,
	backgroundcolor=\color{ultralightgray},  % choose the background color. You must add \usepackage{color}
	commentstyle=\color{greencomments},
	keywordstyle=\color{bluekeywords},
	stringstyle=\color{redstrings},
	showspaces=false,               % show spaces adding particular underscores
	showstringspaces=false,         % underline spaces within strings
	breakatwhitespace=false,     % sets if automatic breaks should only happen at whitespace
	showtabs=false,                 % show tabs within strings adding particular underscores
	frame=b,                   % adds a frame around the code
	tabsize=2,                      % sets default tabsize to 2 spaces
	captionpos=b,                   % sets the caption-position to bottom
	breaklines=true,                % sets automatic line breaking
	xleftmargin=17pt,
	framexleftmargin=17pt,
	framexrightmargin=5pt,
	framexbottommargin=4pt,
	captionpos=top}
}{}

\lstnewenvironment{code_c}[2]{
    \renewcommand\lstlistingname{\textbf{Codi C}}
    \lstset{caption={#1}, 
    label={#2},
    %title={\colorbox{black!10}{\parbox{\dimexpr\linewidth-6pt\relax}{\centering \lstlistingname~\thelstlisting:\ \texttt{\detokenize{#1}}}}},
    title={\colorbox{black!10}{\parbox{\dimexpr\linewidth-6pt\relax}{\centering \lstlistingname~\thelstlisting:\ \texttt{#1}}}},
    language=[ANSI]C, 
    basicstyle=\ttfamily,
	numbers=left,                   % where to put the line-numbers
	numberstyle=\footnotesize\color{gray},      % the size of the fonts that are used for the line-numbers
	stepnumber=1,                   % the step between two line-numbers. If it is 1 each line will be numbered
	numbersep=10pt,                  % how far the line-numbers are from the code
	backgroundcolor=\color{white},  % choose the background color. You must add \usepackage{color}
	commentstyle=\color{greencomments},
	keywordstyle=\color{bluekeywords},
	stringstyle=\color{redstrings},
	showspaces=false,               % show spaces adding particular underscores
	showstringspaces=false,         % underline spaces within strings
	breakatwhitespace=false,     % sets if automatic breaks should only happen at whitespace
	showtabs=false,                 % show tabs within strings adding particular underscores
	frame=b,                   % adds a frame around the code
	tabsize=2,                      % sets default tabsize to 2 spaces
	captionpos=b,                   % sets the caption-position to bottom
	breaklines=true,                % sets automatic line breaking
	xleftmargin=17pt,
	framexleftmargin=17pt,
	framexrightmargin=5pt,
	framexbottommargin=4pt,
	captionpos=top}
}{}

\lstnewenvironment{code_python}[2]{
    \renewcommand\lstlistingname{\textbf{Codi Python}}
    \lstset{caption={#1}, 
    label={#2},
    %title={\colorbox{black!10}{\parbox{\dimexpr\linewidth-6pt\relax}{\centering \lstlistingname~\thelstlisting:\ \texttt{\detokenize{#1}}}}},
    title={\colorbox{black!10}{\parbox{\dimexpr\linewidth-6pt\relax}{\centering \lstlistingname~\thelstlisting:\ \texttt{#1}}}},
    language=python, 
    basicstyle=\ttfamily,
	numbers=left,                   % where to put the line-numbers
	numberstyle=\footnotesize\color{gray},      % the size of the fonts that are used for the line-numbers
	stepnumber=1,                   % the step between two line-numbers. If it is 1 each line will be numbered
	numbersep=10pt,                  % how far the line-numbers are from the code
	backgroundcolor=\color{white},  % choose the background color. You must add \usepackage{color}
	commentstyle=\color{greencomments},
	keywordstyle=\color{bluekeywords},
	stringstyle=\color{redstrings},
	showspaces=false,               % show spaces adding particular underscores
	showstringspaces=false,         % underline spaces within strings
	breakatwhitespace=false,     % sets if automatic breaks should only happen at whitespace
	showtabs=false,                 % show tabs within strings adding particular underscores
	frame=b,                   % adds a frame around the code
	tabsize=2,                      % sets default tabsize to 2 spaces
	captionpos=b,                   % sets the caption-position to bottom
	breaklines=true,                % sets automatic line breaking
	xleftmargin=17pt,
	framexleftmargin=17pt,
	framexrightmargin=5pt,
	framexbottommargin=4pt,
	captionpos=top,
	morekeywords={SIGNAL}}
}{}


\lstnewenvironment{code_xml}[2]{
    \renewcommand\lstlistingname{\textbf{Codi XML}}
    \lstset{caption={#1}, 
    label={#2},
    %title={\colorbox{black!10}{\parbox{\dimexpr\linewidth-6pt\relax}{\centering \lstlistingname~\thelstlisting:\ \texttt{\detokenize{#1}}}}},
    title={\colorbox{black!10}{\parbox{\dimexpr\linewidth-6pt\relax}{\centering \lstlistingname~\thelstlisting:\ \texttt{#1}}}},
    language=XML, 
    basicstyle=\ttfamily,
	numbers=left,                   % where to put the line-numbers
	numberstyle=\footnotesize\color{gray},      % the size of the fonts that are used for the line-numbers
	stepnumber=1,                   % the step between two line-numbers. If it is 1 each line will be numbered
	numbersep=10pt,                  % how far the line-numbers are from the code
	backgroundcolor=\color{white},  % choose the background color. You must add \usepackage{color}
	commentstyle=\color{greencomments},
	keywordstyle=\color{bluekeywords},
	stringstyle=\color{redstrings},
	showspaces=false,               % show spaces adding particular underscores
	showstringspaces=false,         % underline spaces within strings
	breakatwhitespace=false,     % sets if automatic breaks should only happen at whitespace
	showtabs=false,                 % show tabs within strings adding particular underscores
	frame=b,                   % adds a frame around the code
	tabsize=2,                      % sets default tabsize to 2 spaces
	captionpos=b,                   % sets the caption-position to bottom
	breaklines=true,                % sets automatic line breaking
	xleftmargin=17pt,
	framexleftmargin=17pt,
	framexrightmargin=5pt,
	framexbottommargin=4pt,
	captionpos=top,
	morekeywords={SIGNAL}}
}{}

%: ----------------------------------------------------------------------
%:                  TITLE PAGE: name, degree,..
% ----------------------------------------------------------------------
% below is to generate the title page with crest and author name

%if output to PDF then put the following in PDF header
\ifpdf  
    \pdfinfo { /Title  (Design of a platform to test distributed control systems)
               /Creator (TeX)
               /Producer (pdfTeX)
               /Author (Miquel Perelló Nieto miquel.perello.nieto@fib.upc.edu)
               /CreationDate (D:DDMMYYYYhhmmss)  %format D:YYYYMMDDhhmmss
               /ModDate (D:DDMMYYYYhhmm)
               /Subject (xyz)
               %/Directors (Josep Pep, Manel Velasco)
               %Directors: Josep Maria Fuertes Armengol y Manel Velasco Garcia
               /Keywords (add, your, keywords, here) }
    \pdfcatalog { /PageMode (/UseOutlines)
                  /OpenAction (fitbh)  }
\fi


\title{Design of a platform to test distributed control systems}



% ----------------------------------------------------------------------
% The section below defines www links/email for author and institutions
% They will appear on the title page of the PDF and can be clicked
\ifpdf
  \author{\href{mailto:miquel.perello.nieto@fib.upc.edu}{Miquel Perelló Nieto}}
%  \cityofbirth{born in XYZ} % uncomment this if your university requires this
%  % If city of birth is required, also uncomment 2 sections in PhDthesisPSnPDF
%  % Just search for the "city" and you'll find them.
  \collegeordept{\href{http://www.fib.upc.edu}{Facultat d'Informàtica de Barcelona}}
  \university{\href{http://www.upc.edu}{Universitat Politècnica de Catalunya}}
  %\director{\href{mailto:miquel.perello.nieto@fib.upc.edu}{Josep Maria Fuertes Armengol}}
  %\codirector{\href{mailto:miquel.perello.nieto@fib.upc.edu}{Manel Velasco Garcia}}
  

  % The crest is a graphics file of the logo of your research institution.
  % Place it in ./0_frontmatter/figures and specify the width
  \crest{\includegraphics[width=5cm]{logoUPC}}
  
% If you are not creating a PDF then use the following. The default is PDF.
\else
  \author{Miquel Perello Nieto}
%  \cityofbirth{born in XYZ}
  \collegeordept{Facultat d'Informàtica de Barcelona}
  \university{Universitat Politècnica de Catalunya}
  \crest{\includegraphics[width=5cm]{logoUPC}}
\fi

\renewcommand{\submittedtext}{Memòria de Projecte Final de Carrera}
\degree{Enginyeria Tècnica en Informàtica de Sistemes}
\degreedate{Gener 2011}


% ----------------------------------------------------------------------
       
% turn of those nasty overfull and underfull hboxes
\hbadness=10000
\hfuzz=50pt


%: --------------------------------------------------------------
%:                  FRONT MATTER: dedications, abstract,..
% --------------------------------------------------------------

\begin{document}

%\language{english}

% sets line spacing
\renewcommand\baselinestretch{1.2}
\baselineskip=18pt plus1pt


%: ----------------------- generate cover page ------------------------

\maketitle  % command to print the title page with above variables


%: ----------------------- cover page back side ------------------------
% Your research institution may require reviewer names, etc.
% This cover back side is required by Dresden Med Fac; uncomment if needed.

\newpage
\vspace{10mm}
1. Directors: Josep M. Fuertes Armengol i Manel Velasco Garcia

\vspace{10mm}
2. President: Pere Marés Martí

\vspace{10mm}
3. Vocal: Robert Lukas Mario Nieuwenhuis

\vspace{20mm}
Dia de lectura:

\vspace{20mm}
\hspace{70mm}Signatura del tribunal del PFC:



%: ----------------------- abstract ------------------------

% Your institution may have specific regulations if you need an abstract and where it is to be placed in the document. The default here is just after title.

\include{0_frontmatter/abstract}

% The original template provides and abstractseparate environment, if your institution requires them to be separate. I think it's easier to print the abstract from the complete thesis by restricting printing to the relevant page.
% \begin{abstractseparate}
%   \input{Abstract/abstract}
% \end{abstractseparate}


%: ----------------------- tie in front matter ------------------------

\frontmatter
\include{0_frontmatter/dedication}
\include{0_frontmatter/acknowledgement}


%: ----------------------- contents ------------------------

\setcounter{secnumdepth}{3} % organisational level that receives a numbers
\setcounter{tocdepth}{3}    % print table of contents for level 3
\tableofcontents            % print the table of contents
% levels are: 0 - chapter, 1 - section, 2 - subsection, 3 - subsection


%: ----------------------- list of figures/tables ------------------------

\listoffigures	% print list of figures

\listoftables  % print list of tables


\lstlistoflistings
\addcontentsline{toc}{chapter}{Índex de codis}

%: ----------------------- glossary ------------------------

% Tie in external source file for definitions: /0_frontmatter/glossary.tex
% Glossary entries can also be defined in the main text. See glossary.tex
\include{0_frontmatter/glossary} 

%\begin{multicols}{2} % \begin{multicols}{#columns}[header text][space]
\begin{footnotesize} % scriptsize(7) < footnotesize(8) < small (9) < normal (10)

\printnomenclature[1.5cm] % [] = distance between entry and description
\label{nom} % target name for links to glossary

\end{footnotesize}
%\end{multicols}



%: --------------------------------------------------------------
%:                  MAIN DOCUMENT SECTION
% --------------------------------------------------------------

% the main text starts here with the introduction, 1st chapter,...
\mainmatter

\renewcommand{\chaptername}{} % uncomment to print only "1" not "Chapter 1"


%: ----------------------- subdocuments ------------------------

% Parts of the thesis are included below. Rename the files as required.
% But take care that the paths match. You can also change the order of appearance by moving the include commands.

\include{1_introduction/introduction}	% background information
\include{2_technology/technology}		% aims of the project

\include{3_laboratory_design/laboratory_design}			
\include{4_laboratory_implement/laboratory_implement}	

\include{7_economic_analysis/economic_analysis}

\include{8_conclusions/conclusions}

%\include{7/discussion}               % discussion of results

%\include{8/materials_methods}        % description of lab methods




% --------------------------------------------------------------
%:                  BACK MATTER: appendices, refs,..
% --------------------------------------------------------------

% the back matter: appendix and references close the thesis
\appendix
\include{5_laboratory_guide/laboratory_guide}
\include{6_live_cd_guide/live_cd_guide}

%: ----------------------- bibliography ------------------------

% The section below defines how references are listed and formatted
% The default below is 2 columns, small font, complete author names.
% Entries are also linked back to the page number in the text and to external URL if provided in the BibTex file.

% PhDbiblio-url2 = names small caps, title bold & hyperlinked, link to page 
%\begin{multicols}{2} % \begin{multicols}{ # columns}[ header text][ space]
\begin{scriptsize} % tiny(5) < scriptsize(7) < footnotesize(8) < small (9)

\bibliographystyle{Latex/Classes/PhDbiblio-url2} % Title is link if provided
\renewcommand{\bibname}{Bibliografía} % changes the header; default: Bibliography

\bibliography{9_backmatter/PFC} % adjust this to fit your BibTex file

\end{scriptsize}

%make all the elements in the library.bib show up
\nocite{*}

% --------------------------------------------------------------
% Various bibliography styles exit. Replace above style as desired.

% in-text refs: (1) (1; 2)
% ref list: alphabetical; author(s) in small caps; initials last name; page(s)
%\bibliographystyle{Latex/Classes/PhDbiblio-case} % title forced lower case
%\bibliographystyle{Latex/Classes/PhDbiblio-bold} % title as in bibtex but bold
%\bibliographystyle{Latex/Classes/PhDbiblio-url} % bold + www link if provided

%\bibliographystyle{Latex/Classes/jmb} % calls style file jmb.bst
% in-text refs: author (year) without brackets
% ref list: alphabetical; author(s) in normal font; last name, initials; page(s)

%\bibliographystyle{plainnat} % calls style file plainnat.bst
% in-text refs: author (year) without brackets
% (this works with package natbib)


% --------------------------------------------------------------

% according to Dresden med fac summary has to be at the end
%\include{0_frontmatter/abstract}

%: Declaration of originality
\include{9_backmatter/declaration}



\end{document}
